{"version":3,"sources":["firebaseConfig.js","firebase.js","UserProvider.js","components/SignInDialog.js","components/NavBar.js","components/ImageGrid.js","components/Home.js","components/SignUp.js","components/ResetPassword.js","components/Images.js","components/Application.js","App.js","reportWebVitals.js","index.js"],"names":["config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","auth","firestore","storage","addUser","user","email","displayName","a","userRef","doc","uid","get","exists","set","console","error","getUser","userDocument","data","UserContext","createContext","UserProvider","props","useState","setUser","useEffect","onAuthStateChanged","userAuth","Provider","value","children","useStyles","makeStyles","theme","root","height","paper","margin","spacing","display","flexDirection","alignItems","avatar","backgroundColor","palette","secondary","main","form","width","marginTop","submit","SignInDialog","entryType","open","setOpen","setEmail","password","setPassword","remember","setRemember","setError","classes","handleOpenClose","Button","color","onClick","Link","href","variant","Dialog","maxWidth","onClose","Box","className","Avatar","Typography","gutterBottom","align","noValidate","onSubmit","e","preventDefault","persistanceType","Auth","Persistence","LOCAL","SESSION","setPersistence","then","signInWithEmailAndPassword","catch","err","code","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","onChange","target","type","FormControlLabel","control","Checkbox","checked","Grid","container","item","xs","useNavStyles","logo","marginRight","actionGroup","marginLeft","userName","NavBar","navStyles","location","useLocation","Fragment","AppBar","position","Toolbar","IconButton","edge","aria-label","Tabs","pathname","length","Tab","component","to","currentUser","renderImagesTab","signOut","useGridStyles","gridList","gridTile","gridTitleBar","background","icon","picture","minWidth","minHeight","transform","left","top","ImageGrid","images","handleDelete","gridStyles","GridList","cellHeight","cols","sort","image1","image2","date1","Date","parse","date","date2","sortByDate","map","image","index","GridListTile","url","rel","src","alt","GridListTileBar","title","slice","indexOf","subtitle","uploadedBy","toDateString","titlePosition","actionIcon","Home","setImages","storageRef","ref","list","maxResults","files","items","forEach","fileRef","getDownloadURL","getMetadata","metadata","prevState","customMetadata","timeCreated","loadImage","SignUp","setDisplayName","passwordOne","setPasswordOne","passwordTwo","setPasswordTwo","styles","Container","collection","where","querySnapshot","docs","createUserWithEmailAndPassword","userCredential","updateProfile","replace","trim","justify","buttonType","ResetPassword","success","setSuccess","sendPasswordResetEmail","useActionStyles","toolBar","uploadGroup","selectionText","Images","view","setView","uploads","setUploads","loading","setLoading","actionStyles","filterCurrUser","Paper","square","indicatorColor","textColor","newValue","renderSelection","accept","hidden","Array","from","multiple","startIcon","allUploads","upload","Promise","resolve","fullUploadName","includes","child","put","on","all","disabled","LinearProgress","progressBar","delete","filter","Application","useContext","basename","exact","path","render","App","CssBaseline","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d2ddfe56.chunk.js","sourcesContent":["const config = {\r\n\tapiKey: 'AIzaSyATvkQz3GdQhlhw8b9bWjfOpy9PWZ2j_1k',\r\n\tauthDomain: 'img-repo-a5beb.firebaseapp.com',\r\n\tprojectId: 'img-repo-a5beb',\r\n\tstorageBucket: 'img-repo-a5beb.appspot.com',\r\n\tmessagingSenderId: '328427547917',\r\n\tappId: '1:328427547917:web:2b4924a66de79e267f1444',\r\n\tmeasurementId: 'G-LMCFPTQFQ5'\r\n};\r\n\r\nexport default config;\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\nimport config from './firebaseConfig';\r\n\r\nfirebase.initializeApp(config);\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\nexport const storage = firebase.storage();\r\n\r\nexport const addUser = async (user, email, displayName) => {\r\n\tif (user) {\r\n\t\tconst userRef = firestore.doc(`users/${user.uid}`);\r\n\t\tconst snapshot = await userRef.get();\r\n\t\tif (!snapshot.exists) {\r\n\t\t\ttry {\r\n\t\t\t\tawait userRef.set({\r\n\t\t\t\t\temail: email,\r\n\t\t\t\t\tdisplayName: displayName\r\n\t\t\t\t});\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error('Error creating user document', err);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn getUser(user.uid);\r\n\t} else {\r\n\t\tconsole.error('No user provided');\r\n\t}\r\n};\r\n\r\nexport const getUser = async (uid) => {\r\n\tif (uid) {\r\n\t\ttry {\r\n\t\t\tconst userDocument = await firestore.doc(`users/${uid}`).get();\r\n\t\t\treturn {\r\n\t\t\t\tuid,\r\n\t\t\t\t...userDocument.data()\r\n\t\t\t};\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Error fetching user document', err);\r\n\t\t}\r\n\t} else {\r\n\t\tconsole.error('No UID provided to fetch user');\r\n\t}\r\n};\r\n","import React, { createContext, useState, useEffect } from 'react';\r\nimport { auth, getUser } from './firebase';\r\n\r\nexport const UserContext = createContext({ user: null });\r\n\r\nconst UserProvider = (props) => {\r\n\tconst [user, setUser] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\t// Listen for user auth and set context accordingly\r\n\t\tauth.onAuthStateChanged(async (userAuth) => {\r\n\t\t\tif (userAuth) {\r\n\t\t\t\tsetUser(getUser(userAuth));\r\n\t\t\t} else {\r\n\t\t\t\tsetUser(null);\r\n\t\t\t}\r\n\t\t});\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<UserContext.Provider value={user}>\r\n\t\t\t{props.children}\r\n\t\t</UserContext.Provider>\r\n\t);\r\n};\r\n\r\nexport default UserProvider;\r\n","import React, { Fragment, useState } from 'react';\r\nimport {\r\n\tButton,\r\n\tDialog,\r\n\tTextField,\r\n\tTypography,\r\n\tLink,\r\n\tAvatar,\r\n\tFormControlLabel,\r\n\tCheckbox,\r\n\tGrid,\r\n\tBox\r\n} from '@material-ui/core';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport firebase from 'firebase/app';\r\nimport { auth } from '../firebase';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\theight: '100vh'\r\n\t},\r\n\tpaper: {\r\n\t\tmargin: theme.spacing(8, 4),\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'center'\r\n\t},\r\n\tavatar: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tbackgroundColor: theme.palette.secondary.main\r\n\t},\r\n\tform: {\r\n\t\twidth: '100%', // Fix IE 11 issue\r\n\t\tmarginTop: theme.spacing(1)\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2)\r\n\t}\r\n}));\r\n\r\nconst SignInDialog = ({ entryType }) => {\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst [remember, setRemember] = useState(false);\r\n\tconst [error, setError] = useState('');\r\n\r\n\tconst classes = useStyles();\r\n\r\n\tconst handleOpenClose = () => {\r\n\t\tsetOpen(!open);\r\n\t};\r\n\r\n\tconst handleSignIn = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst persistanceType = remember\r\n\t\t\t? firebase.auth.Auth.Persistence.LOCAL\r\n\t\t\t: firebase.auth.Auth.Persistence.SESSION;\r\n\r\n\t\tauth.setPersistence(persistanceType)\r\n\t\t\t.then(() => {\r\n\t\t\t\treturn auth.signInWithEmailAndPassword(email, password);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t\tif (err.code === 'auth/wrong-password') {\r\n\t\t\t\t\tsetError('Incorrect password.');\r\n\t\t\t\t}\r\n\t\t\t\tsetError('There was an error signing in.');\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst renderEntry = () => {\r\n\t\tif (entryType === 'button') {\r\n\t\t\treturn (\r\n\t\t\t\t<Button color='inherit' onClick={handleOpenClose}>\r\n\t\t\t\t\tSign In\r\n\t\t\t\t</Button>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<Link\r\n\t\t\t\t\tonClick={handleOpenClose}\r\n\t\t\t\t\thref='/#/sign-up'\r\n\t\t\t\t\tvariant='body2'\r\n\t\t\t\t>\r\n\t\t\t\t\tAlready have an account? Sign in\r\n\t\t\t\t</Link>\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{renderEntry()}\r\n\t\t\t<Dialog maxWidth='xs' onClose={handleOpenClose} open={open}>\r\n\t\t\t\t<Box className={classes.paper}>\r\n\t\t\t\t\t<Avatar className={classes.avatar}>\r\n\t\t\t\t\t\t<ImageIcon />\r\n\t\t\t\t\t</Avatar>\r\n\r\n\t\t\t\t\t<Typography variant='h5' gutterBottom>\r\n\t\t\t\t\t\tSign in\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography align='center' variant='caption'>\r\n\t\t\t\t\t\tPsst, if you want to test out the application, you can\r\n\t\t\t\t\t\tsign in with the email \"johndoe@gmail.com\" and the\r\n\t\t\t\t\t\tpassword \"admin123\"!\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tclassName={classes.form}\r\n\t\t\t\t\t\tnoValidate\r\n\t\t\t\t\t\tonSubmit={handleSignIn}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tmargin='normal'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\tlabel='Email Address'\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\tautoComplete='email'\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetEmail(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tmargin='normal'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\tlabel='Password'\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\t\tautoComplete='current-password'\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetPassword(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t<Checkbox value='remember' color='primary' />\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlabel='Remember me'\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetRemember(e.target.checked);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<Typography color='error'>{error}</Typography>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\tclassName={classes.submit}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t<Grid container>\r\n\t\t\t\t\t\t\t<Grid item xs>\r\n\t\t\t\t\t\t\t\t<Link href='/#/reset-password' variant='body2'>\r\n\t\t\t\t\t\t\t\t\tForgot password?\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<Link href='/#/sign-up' variant='body2'>\r\n\t\t\t\t\t\t\t\t\t{\"Don't have an account? Sign Up\"}\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</Box>\r\n\t\t\t</Dialog>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nexport default SignInDialog;\r\n","import React, { Fragment } from 'react';\r\nimport {\r\n\tAppBar,\r\n\tToolbar,\r\n\tTabs,\r\n\tTab,\r\n\tTypography,\r\n\tIconButton,\r\n\tButton,\r\n\tBox,\r\n\tmakeStyles\r\n} from '@material-ui/core';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport GitHubIcon from '@material-ui/icons/GitHub';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { auth } from '../firebase';\r\nimport SignInDialog from './SignInDialog';\r\n\r\nconst useNavStyles = makeStyles((theme) => ({\r\n\tlogo: {\r\n\t\tmarginRight: theme.spacing(2)\r\n\t},\r\n\tactionGroup: { marginLeft: 'auto' },\r\n\tuserName: {\r\n\t\tmarginRight: theme.spacing(2)\r\n\t}\r\n}));\r\n\r\nconst NavBar = () => {\r\n\tconst navStyles = useNavStyles();\r\n\tconst location = useLocation();\r\n\r\n\tconst renderImagesTab = () => {\r\n\t\tif (auth.currentUser) {\r\n\t\t\treturn (\r\n\t\t\t\t<Tab\r\n\t\t\t\t\tlabel=' Your Images'\r\n\t\t\t\t\tvalue='/images'\r\n\t\t\t\t\tcomponent={Link}\r\n\t\t\t\t\tto='/images'\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tconst renderSignInOut = () => {\r\n\t\tif (auth.currentUser) {\r\n\t\t\treturn (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tclassName={navStyles.userName}\r\n\t\t\t\t\t\tvariant='body'\r\n\t\t\t\t\t\tdisplay='inline'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{auth.currentUser.displayName}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tauth.signOut();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSign Out\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Fragment>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn <SignInDialog color='inherit' entryType='button' />;\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<AppBar position='fixed' color='primary'>\r\n\t\t\t\t<Toolbar>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tedge='start'\r\n\t\t\t\t\t\tclassName={navStyles.logo}\r\n\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\taria-label='menu'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ImageIcon />\r\n\t\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t\t<Typography variant='h6'>ImgRepo</Typography>\r\n\r\n\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\tvariant='fullWidth'\r\n\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\tlocation.pathname.length > 1\r\n\t\t\t\t\t\t\t\t? location.pathname\r\n\t\t\t\t\t\t\t\t: '/home' // select home tab if there is no route provided\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Tab\r\n\t\t\t\t\t\t\tlabel='Home'\r\n\t\t\t\t\t\t\tvalue='/home'\r\n\t\t\t\t\t\t\tcomponent={Link}\r\n\t\t\t\t\t\t\tto='/home'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{renderImagesTab()}\r\n\t\t\t\t\t</Tabs>\r\n\r\n\t\t\t\t\t<Box className={navStyles.actionGroup}>\r\n\t\t\t\t\t\t{renderSignInOut()}\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tedge='end'\r\n\t\t\t\t\t\t\tcolor='inherit'\r\n\t\t\t\t\t\t\taria-label='menu'\r\n\t\t\t\t\t\t\thref='https://github.com/yebrandon/img-repo'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<GitHubIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t\t<Toolbar />\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default NavBar;\r\n","import React from 'react';\r\nimport {\r\n\tGridList,\r\n\tGridListTile,\r\n\tGridListTileBar,\r\n\tIconButton,\r\n\tmakeStyles\r\n} from '@material-ui/core';\r\nimport Delete from '@material-ui/icons/Delete';\r\n\r\nconst useGridStyles = makeStyles(() => ({\r\n\tgridList: { width: '100%', height: '100%' },\r\n\tgridTile: { width: '25%', height: '25%' },\r\n\tgridTitleBar: {\r\n\t\tbackground:\r\n\t\t\t'linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, ' +\r\n\t\t\t'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)'\r\n\t},\r\n\ticon: {\r\n\t\tcolor: 'white'\r\n\t},\r\n\t// Allow image to fill tile and maintain aspect ratio\r\n\tpicture: {\r\n\t\tminWidth: '100%',\r\n\t\tminHeight: '100%',\r\n\t\ttransform: 'translate(-50%, -50%)',\r\n\t\tposition: 'relative',\r\n\t\tleft: '50%',\r\n\t\ttop: '50%'\r\n\t}\r\n}));\r\n\r\nconst ImageGrid = ({ images, handleDelete = null }) => {\r\n\tconst gridStyles = useGridStyles();\r\n\r\n\t// Sorts images by date in descending order when used with .sort\r\n\tconst sortByDate = (image1, image2) => {\r\n\t\tconst date1 = Date.parse(image1.date);\r\n\t\tconst date2 = Date.parse(image2.date);\r\n\r\n\t\tif (date1 > date2) {\r\n\t\t\treturn -1;\r\n\t\t} else if (date2 > date1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\treturn 0;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<GridList cellHeight={400} cols={4} className={gridStyles.gridList}>\r\n\t\t\t{images\r\n\t\t\t\t.sort((image1, image2) => sortByDate(image1, image2))\r\n\t\t\t\t.map((image, index) => (\r\n\t\t\t\t\t<GridListTile\r\n\t\t\t\t\t\tclassName={useGridStyles.gridTile}\r\n\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref={image.url}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\trel='noopener noreferrer'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={image.url}\r\n\t\t\t\t\t\t\t\talt=''\r\n\t\t\t\t\t\t\t\tclassName={gridStyles.picture}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<GridListTileBar\r\n\t\t\t\t\t\t\tclassName={gridStyles.gridTitleBar}\r\n\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\timage.name.slice(\r\n\t\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t\timage.name.indexOf('|')\r\n\t\t\t\t\t\t\t\t) /* Display image name with username removed*/\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsubtitle={`${image.uploadedBy} - ${new Date(\r\n\t\t\t\t\t\t\t\timage.date\r\n\t\t\t\t\t\t\t).toDateString()}`}\r\n\t\t\t\t\t\t\ttitlePosition='top'\r\n\t\t\t\t\t\t\tactionIcon={\r\n\t\t\t\t\t\t\t\thandleDelete ? (\r\n\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\thandleDelete(image.name);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName={gridStyles.icon}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Delete />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t) : null /* Don't render delete button if not specified */\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</GridListTile>\r\n\t\t\t\t))}\r\n\t\t</GridList>\r\n\t);\r\n};\r\n\r\nexport default ImageGrid;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { storage } from '../firebase';\r\nimport NavBar from './NavBar';\r\nimport ImageGrid from './ImageGrid';\r\n\r\nconst Home = () => {\r\n\tconst [images, setImages] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst storageRef = storage.ref('images/public');\r\n\r\n\t\tconst loadImage = (fileRef) => {\r\n\t\t\tfileRef.getDownloadURL().then((url) => {\r\n\t\t\t\tfileRef.getMetadata().then((metadata) => {\r\n\t\t\t\t\tsetImages((prevState) => [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\turl,\r\n\t\t\t\t\t\t\tuploadedBy: metadata.customMetadata.uploadedBy,\r\n\t\t\t\t\t\t\tname: fileRef.name,\r\n\t\t\t\t\t\t\tdate: metadata.timeCreated\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t...prevState\r\n\t\t\t\t\t]);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tconst loadAllImages = () => {\r\n\t\t\tstorageRef.list({ maxResults: 100 }).then((files) => {\r\n\t\t\t\tfiles.items.forEach((fileRef) => {\r\n\t\t\t\t\tloadImage(fileRef);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tsetImages([]);\r\n\t\tloadAllImages();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<NavBar />\r\n\t\t\t<ImageGrid images={images} />\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { auth, addUser, firestore } from '../firebase';\r\nimport SignInDialog from './SignInDialog';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(8),\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'center'\r\n\t},\r\n\tavatar: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tbackgroundColor: theme.palette.secondary.main\r\n\t},\r\n\tform: {\r\n\t\twidth: '100%', // Fix IE 11 issue\r\n\t\tmarginTop: theme.spacing(3)\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2)\r\n\t}\r\n}));\r\n\r\nconst SignUp = () => {\r\n\tconst [displayName, setDisplayName] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [passwordOne, setPasswordOne] = useState('');\r\n\tconst [passwordTwo, setPasswordTwo] = useState('');\r\n\tconst [error, setError] = useState(null);\r\n\r\n\tconst styles = useStyles();\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (passwordOne === passwordTwo) {\r\n\t\t\tconst usersRef = firestore.collection('users');\r\n\t\t\tusersRef\r\n\t\t\t\t.where('displayName', '==', displayName)\r\n\t\t\t\t.get()\r\n\t\t\t\t.then((querySnapshot) => {\r\n\t\t\t\t\t// Check if username is taken\r\n\t\t\t\t\tif (querySnapshot.docs.length === 0) {\r\n\t\t\t\t\t\tauth.createUserWithEmailAndPassword(email, passwordOne)\r\n\t\t\t\t\t\t\t.then((userCredential) => {\r\n\t\t\t\t\t\t\t\treturn userCredential.user\r\n\t\t\t\t\t\t\t\t\t.updateProfile({ displayName: displayName })\r\n\t\t\t\t\t\t\t\t\t.then(\r\n\t\t\t\t\t\t\t\t\t\taddUser(\r\n\t\t\t\t\t\t\t\t\t\t\tuserCredential.user,\r\n\t\t\t\t\t\t\t\t\t\t\temail,\r\n\t\t\t\t\t\t\t\t\t\t\tdisplayName\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\t\t\t\tsetError('Error creating account.');\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tsetDisplayName('');\r\n\t\t\t\t\t\tsetEmail('');\r\n\t\t\t\t\t\tsetPasswordOne('');\r\n\t\t\t\t\t\tsetPasswordTwo('');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetError('Username is already taken!');\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function (err) {\r\n\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\tsetError('Error getting user document.');\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetError('Passwords do not match.');\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Container className={styles.paper} component='main' maxWidth='xs'>\r\n\t\t\t<Avatar className={styles.avatar}>\r\n\t\t\t\t<ImageIcon />\r\n\t\t\t</Avatar>\r\n\r\n\t\t\t<Typography component='h1' variant='h5'>\r\n\t\t\t\tSign up\r\n\t\t\t</Typography>\r\n\r\n\t\t\t<form className={styles.form} onSubmit={handleSubmit}>\r\n\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tvalue={displayName}\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tmargin='normal'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tid='displayName'\r\n\t\t\t\t\t\t\tlabel='Username'\r\n\t\t\t\t\t\t\tname='displayName'\r\n\t\t\t\t\t\t\tautoComplete='displayName'\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetDisplayName(\r\n\t\t\t\t\t\t\t\t\te.target.value.replace(/[^A-Z0-9]/gi, '')\r\n\t\t\t\t\t\t\t\t); // Prevent spaces and special chars\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tmargin='normal'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\tlabel='Email Address'\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\tautoComplete='email'\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetEmail(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tvalue={passwordOne}\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tmargin='normal'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tname='passwordOne'\r\n\t\t\t\t\t\t\tlabel='Password'\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tid='passwordOne'\r\n\t\t\t\t\t\t\tautoComplete='current-password'\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetPasswordOne(e.target.value.trim()); // Prevent spaces\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tvalue={passwordTwo}\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tmargin='normal'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tname='passwordTwo'\r\n\t\t\t\t\t\t\tlabel='Confirm Password'\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tid='passwordTwo'\r\n\t\t\t\t\t\t\tautoComplete='current-password'\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetPasswordTwo(e.target.value.trim());\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Typography color='error'>{error}</Typography>\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype='submit'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tclassName={styles.submit}\r\n\t\t\t\t>\r\n\t\t\t\t\tSign Up\r\n\t\t\t\t</Button>\r\n\t\t\t</form>\r\n\r\n\t\t\t<Grid container justify='flex-end'>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<SignInDialog buttonType='link' />\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default SignUp;\r\n","import React, { useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport { auth } from '../firebase';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(8),\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'center'\r\n\t},\r\n\tavatar: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tbackgroundColor: theme.palette.secondary.main\r\n\t},\r\n\tform: {\r\n\t\twidth: '100%', // Fix IE 11 issue\r\n\t\tmarginTop: theme.spacing(3)\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2)\r\n\t}\r\n}));\r\n\r\nconst ResetPassword = () => {\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [error, setError] = useState(null);\r\n\tconst [success, setSuccess] = useState(false);\r\n\r\n\tconst styles = useStyles();\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tauth.sendPasswordResetEmail(email)\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetSuccess(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t\tsetError('Error sending passwording reset link');\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst renderMsg = () => {\r\n\t\tif (success) return <Typography color='primary'>Link sent!</Typography>;\r\n\t\telse if (error) return <Typography color='error'>{error}</Typography>;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Container className={styles.paper} component='main' maxWidth='xs'>\r\n\t\t\t<Avatar className={styles.avatar}>\r\n\t\t\t\t<LockOutlinedIcon />\r\n\t\t\t</Avatar>\r\n\r\n\t\t\t<Typography component='h1' variant='h5'>\r\n\t\t\t\tReset Password\r\n\t\t\t</Typography>\r\n\r\n\t\t\t<form className={styles.form} onSubmit={handleSubmit}>\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\tmargin='normal'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\tlabel='Email Address'\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\tautoComplete='email'\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetEmail(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t{renderMsg()}\r\n\t\t\t\t</Grid>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype='submit'\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tclassName={styles.submit}\r\n\t\t\t\t>\r\n\t\t\t\t\tSend Reset Link\r\n\t\t\t\t</Button>\r\n\r\n\t\t\t\t<Grid container justify='flex-end'>\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t<Link href='#/sign-in' variant='body2'>\r\n\t\t\t\t\t\t\tBack to Sign In\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</form>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default ResetPassword;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n\tButton,\r\n\tPaper,\r\n\tTabs,\r\n\tTab,\r\n\tLinearProgress,\r\n\tBox,\r\n\tTypography,\r\n\tmakeStyles\r\n} from '@material-ui/core';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport { auth, storage } from '../firebase';\r\nimport NavBar from './NavBar';\r\nimport ImageGrid from './ImageGrid';\r\n\r\nconst useActionStyles = makeStyles((theme) => ({\r\n\ttoolBar: {\r\n\t\tflexDirection: 'row',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center'\r\n\t},\r\n\tuploadGroup: {\r\n\t\talignItems: 'center',\r\n\t\tmarginLeft: 'auto'\r\n\t},\r\n\tselectionText: { marginRight: theme.spacing(2) }\r\n}));\r\n\r\nconst Images = () => {\r\n\tconst [images, setImages] = useState([]);\r\n\tconst [view, setView] = useState('public');\r\n\tconst [uploads, setUploads] = useState([]);\r\n\tconst [error, setError] = useState('');\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tconst actionStyles = useActionStyles();\r\n\tconst storageRef = storage.ref(\r\n\t\tview === 'private'\r\n\t\t\t? `images/private/${auth.currentUser.displayName}`\r\n\t\t\t: 'images/public'\r\n\t);\r\n\r\n\tconst loadImage = (fileRef) => {\r\n\t\t// Returns true if image was uploaded by current user\r\n\t\tconst filterCurrUser = (metadata) => {\r\n\t\t\tif (\r\n\t\t\t\t(view === 'public' &&\r\n\t\t\t\t\tmetadata.customMetadata.uploadedBy ===\r\n\t\t\t\t\t\tauth.currentUser.displayName) ||\r\n\t\t\t\tview !== 'public'\r\n\t\t\t) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t};\r\n\r\n\t\tfileRef.getDownloadURL().then((url) => {\r\n\t\t\tfileRef.getMetadata().then((metadata) => {\r\n\t\t\t\tif (filterCurrUser(metadata)) {\r\n\t\t\t\t\tsetImages((prevState) => [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\turl,\r\n\t\t\t\t\t\t\tuploadedBy: metadata.customMetadata.uploadedBy,\r\n\t\t\t\t\t\t\tname: fileRef.name,\r\n\t\t\t\t\t\t\tdate: metadata.timeCreated\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t...prevState\r\n\t\t\t\t\t]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst loadAllImages = () => {\r\n\t\t\tstorageRef.list({ maxResults: 100 }).then((files) => {\r\n\t\t\t\tfiles.items.forEach((fileRef) => {\r\n\t\t\t\t\tloadImage(fileRef);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tsetImages([]);\r\n\t\tsetError('');\r\n\t\tloadAllImages();\r\n\t}, [view]);\r\n\r\n\tconst switchView = (e, newValue) => {\r\n\t\tsetView(newValue);\r\n\t};\r\n\r\n\tconst handleSelect = (e) => {\r\n\t\tsetError('');\r\n\t\tsetUploads(Array.from(e.target.files));\r\n\t};\r\n\r\n\tconst handleUpload = () => {\r\n\t\tsetLoading(true);\r\n\r\n\t\tconst allUploads = uploads.map((upload) => {\r\n\t\t\treturn new Promise((resolve) => {\r\n\t\t\t\tconst fullUploadName = `${upload.name}|${auth.currentUser.displayName}`;\r\n\r\n\t\t\t\tconst imageNames = images.map((image) => {\r\n\t\t\t\t\treturn image.name;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (!imageNames.includes(fullUploadName)) {\r\n\t\t\t\t\t// Check if image with same name was already uploaded bu user\r\n\t\t\t\t\tconst metadata = {\r\n\t\t\t\t\t\tcustomMetadata: {\r\n\t\t\t\t\t\t\tuploadedBy: auth.currentUser.displayName\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\tconst fileRef = storageRef.child(fullUploadName);\r\n\t\t\t\t\tconst uploadTask = fileRef.put(upload, metadata);\r\n\t\t\t\t\tuploadTask.on(\r\n\t\t\t\t\t\t'state_changed',\r\n\t\t\t\t\t\t() => {},\r\n\t\t\t\t\t\t() => {\r\n\t\t\t\t\t\t\tsetError('Error uploading files');\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t() => {\r\n\t\t\t\t\t\t\tloadImage(fileRef);\r\n\t\t\t\t\t\t\tresolve('success');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetError(`${upload.name} already exists!`);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t// Reset UI once all uploads are finished\r\n\t\tPromise.all(allUploads).then(() => {\r\n\t\t\tsetUploads([]);\r\n\t\t\tsetLoading(false);\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleDelete = (name) => {\r\n\t\tsetError('');\r\n\t\tstorageRef\r\n\t\t\t.child(name)\r\n\t\t\t.delete()\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetImages(images.filter((image) => image.name !== name));\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t\tsetError('Error deleting image');\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst renderSelection = () => {\r\n\t\tlet selectionText;\r\n\r\n\t\tif (uploads.length === 1) {\r\n\t\t\tselectionText = uploads[0].name;\r\n\t\t} else if (uploads.length > 0) {\r\n\t\t\tselectionText = `Selected ${uploads.length} files`;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Typography className={actionStyles.selectionText} display='inline'>\r\n\t\t\t\t{selectionText}\r\n\t\t\t</Typography>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<NavBar />\r\n\r\n\t\t\t<Paper square className={actionStyles.toolBar}>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tvalue={view}\r\n\t\t\t\t\tindicatorColor='secondary'\r\n\t\t\t\t\ttextColor='secondary'\r\n\t\t\t\t\tonChange={switchView}\r\n\t\t\t\t\tvariant='fullWidth'\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tab value='public' label='Public' />\r\n\t\t\t\t\t<Tab value='private' label='Private' />\r\n\t\t\t\t</Tabs>\r\n\r\n\t\t\t\t<Typography color='error'>{error}</Typography>\r\n\r\n\t\t\t\t<Box className={actionStyles.uploadGroup}>\r\n\t\t\t\t\t{renderSelection()}\r\n\t\t\t\t\t<Button variant='contained' component='label'>\r\n\t\t\t\t\t\tSelect upload(s)\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\t\taccept='image/*'\r\n\t\t\t\t\t\t\thidden\r\n\t\t\t\t\t\t\tonChange={handleSelect}\r\n\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tstartIcon={<CloudUploadIcon />}\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tcomponent='label'\r\n\t\t\t\t\t\tonClick={handleUpload}\r\n\t\t\t\t\t\tdisabled={uploads.length < 1}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tUpload\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\r\n\t\t\t<LinearProgress\r\n\t\t\t\tvariant={loading ? 'indeterminate' : 'determinate'}\r\n\t\t\t\tclassName={actionStyles.progressBar}\r\n\t\t\t\tvalue={0}\r\n\t\t\t/>\r\n\r\n\t\t\t<ImageGrid images={images} handleDelete={handleDelete} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Images;\r\n","import React, { useContext } from 'react';\r\nimport { HashRouter, Switch, Route, Redirect } from 'react-router-dom';\r\nimport { UserContext } from '../UserProvider';\r\nimport Home from './Home';\r\nimport SignUp from './SignUp';\r\nimport ResetPassword from './ResetPassword';\r\nimport Images from './Images';\r\n\r\nconst Application = () => {\r\n\tconst user = useContext(UserContext); // Determine if user is logged in or not\r\n\treturn user ? (\r\n\t\t<HashRouter basename='/'>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route exact path='/' render={() => <Home />} />\r\n\t\t\t\t<Route path='/home' render={() => <Home />} />\r\n\t\t\t\t<Route path='/images' render={() => <Images />} />\r\n\t\t\t\t<Route path='/' render={() => <Redirect to='/home' />} />\r\n\t\t\t\t{/* Redirect to home if path is not found */}\r\n\t\t\t</Switch>\r\n\t\t</HashRouter>\r\n\t) : (\r\n\t\t<HashRouter basename='/'>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route exact path='/' render={() => <Home />} />\r\n\t\t\t\t<Route path='/home' render={() => <Home />} />\r\n\t\t\t\t<Route path='/sign-up' render={() => <SignUp />} />\r\n\t\t\t\t<Route\r\n\t\t\t\t\tpath='/reset-password'\r\n\t\t\t\t\trender={() => <ResetPassword />}\r\n\t\t\t\t/>\r\n\t\t\t\t<Route path='/' render={() => <Redirect to='/home' />} />\r\n\t\t\t</Switch>\r\n\t\t</HashRouter>\r\n\t);\r\n};\r\n\r\nexport default Application;\r\n","import React from 'react';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport UserProvider from './UserProvider';\r\nimport Application from './components/Application';\r\nimport './App.css';\r\n\r\nconst App = () => {\r\n\treturn (\r\n\t\t<UserProvider>\r\n\t\t\t<CssBaseline />\r\n\t\t\t<Application />\r\n\t\t</UserProvider>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}